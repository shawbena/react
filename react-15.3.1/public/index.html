<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>React Tutorial</title>
    <script src="https://npmcdn.com/react@15.3.1/dist/react.js"></script>
    <script src="https://npmcdn.com/react-dom@15.3.1/dist/react-dom.js"></script>
    <script src="https://npmcdn.com/babel-core@5.8.38/browser.min.js"></script>
    <script src="https://npmcdn.com/jquery@3.1.0/dist/jquery.min.js"></script>
    <script src="https://npmcdn.com/remarkable@1.6.2/dist/remarkable.min.js"></script>
</head>
<body>
    <div id="content"></div>
</body>
<script type="text/babel" src="scripts/example.js"></script>
<script type="text/babel">
    // To get startede with this tutorial running your own code, simply remove the script tag loading scripts/example.js and start writing code here.
//React 是模块化，可组合性的组件。这个例子有以下组件结构
/*
- CommentBox
    - CommentList
        - Comment
    -CommentForm
*/

//props
/*
Comment 组件接收来自父组件的数据，可以从子组件的 'property' 上获取父组件传递的数据，可使用 this.props 访问这些 'properties', 使用 props 我们便可读取从 CommentList 传递给 Comment 的数据。
在 JSX 中，通过将 JavaScript 表达式包括在花括号中（作为属性或 child），你可以往树中丢文本或 React 组件。可以通过 this.props 的键访问传递给组件的命名属性，通过 this.props.children 访问任何嵌套的元素。//此处不太好理解
*/
var Comment = React.createClass({
    render: function(){
        var md = new Remarkable();
        return (
            <div className="comment">
                <h2 className="comment-author">
                    {this.props.author}
                </h2>
                {md.render(this.props.children.toString())}
            </div>
        );
    }
});

var CommentList = React.createClass({
    render: function(){
        return (
            <div className="comment-list">
                <Comment author="Pete Hunt">This is <em>one</em> comment</Comment>
                <Comment author="Jordan Walke">This is *another* comment</Comment>
            </div>
        );
    }
});
var CommentForm = React.createClass({
    render: function(){
        return (
            <div className="comment-form">
                Hello, world! I am a CommentForm.
            </div>
        );
    }
});
//JSX 语法，React 组件
var CommentBox = React.createClass({
    render: function(){
        /*render 返回一个 React 组件树，最终渲染为 HTML, <div> 标签并不是真正的 DOM 节点。你可以把这些理解为 React 知道如何处理的标记或数据片段，React 是安全的。我们并没有生成 HTML 字符串，所以 XSS 保护是默认的。
        你不必返回基本的 HTML. 你可以返回一个你构建的组件树。这使得 React 有可组合性：可维护的前端的关键原则。
        */
        return (
            <div className="comment-box">
                <h1>Comments</h1>
                <CommentList />
                <CommentForm />
            </div>
        );
    }
});
/*
ReactDOM.render() 实例化根组件，启动框架，将标记注入原生 DOM 元素（提供的第二个参数）。
ReactDOM 模块暴露特定 DOM 的方法，React 是不同平台（如, React Native） React 的共享的核心工具。
在组件定义后才可以调用 ReactDOM.render.
*/
ReactDOM.render(
    <CommentBox />,
    document.getElementById('content')
);
</script>
</html>